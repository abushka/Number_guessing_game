<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number guessing game Abushka</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <h1>–ò–≥—Ä–∞: —É–≥–∞–¥–∞–π —á–∏—Å–ª–æ</h1>
    <p>–ú—ã –≤—ã–±—Ä–∞–ª–∏ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100. –ü–æ—Å–º–æ—Ç—Ä–∏–º —Å–º–æ–∂–µ—à—å –ª–∏ —Ç—ã —É–≥–∞–¥–∞—Ç—å –∑–∞ 10 –ø–æ–ø—ã—Ç–æ–∫. –¢–∞–∫–∂–µ –±—É–¥–µ–º –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Ç–≤–æ—ë —á–∏—Å–ª–æ –±–æ–ª—å—à–µ –∏–ª–∏ –º–µ–Ω—å—à–µ –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–≥–æ.</p>
    <div class="form">
        <label for="guessField">–í–≤–µ–¥–∏ —á–∏—Å–ª–æ: </label>
        <input type="text" id="guessField" class="guessField">
        <input type="submit" value="–û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–∏—Å–ª–æ" class="guessSubmit">
    </div>
    <div class="resultParas">
        <p class="guesses"></p>
        <p class="lastResult"></p>
        <p class="lowOrHi"></p>
    </div>

    <button class="button">–ù–∞–∂–º–∏</button>

    <script>
        // const button = document.querySelector('button');

        // button.onclick = clickToButton
        // function clickToButton() {
        //     let name = prompt('–ö–∞–∫ –í–∞—Å –∑–æ–≤—É—Ç?');
        //     alert('–ü—Ä–∏–≤–µ—Ç ' + name + ', —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –í–∞—Å!');
        // }

        // button.onclick = () => {
        //     let name = prompt('–ö–∞–∫ –í–∞—Å –∑–æ–≤—É—Ç?');
        //     alert('–ü—Ä–∏–≤–µ—Ç ' + name + ', —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –í–∞—Å!');
        // }

        // button.onclick = function() {
        //     let name = prompt('–ö–∞–∫ –í–∞—Å –∑–æ–≤—É—Ç?');
        //     alert('–ü—Ä–∏–≤–µ—Ç ' + name + ', —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –í–∞—Å!');
        // }

        let randomNumber = Math.floor(Math.random() * 100) + 1;
        const guesses = document.querySelector('.guesses');
        const lastResult = document.querySelector(".lastResult");
        const lowOrHi = document.querySelector(".lowOrHi");
        const guessSubmit = document.querySelector(".guessSubmit");
        const guessField = document.querySelector(".guessField");
        let guessCount = 1;
        let resetButton;

        function checkGuess() {
            let userGuess = Number(guessField.value);
            if (guessCount === 1) {
                guesses.textContent = "–í–∞—à–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã: ";
            }
            guesses.textContent  += userGuess + " ";

            if (userGuess === randomNumber) {
                lastResult.textContent = "–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ! –¢—ã —É–≥–∞–¥–∞–ªüòÅ";
                lastResult.style.backgroundColor = "green";
                lowOrHi.textContent = "";
                setGameOver();
            } else if (guessCount === 10) {
                lastResult.textContent = "!!!GAME OVER!!!";
                lowOrHi.textContent = '';
                setGameOver();
            } else {
                lastResult.textContent = "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ";
                lastResult.style.backgroundColor = "red";
                if (userGuess < randomNumber) {
                    lowOrHi.textContent = "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ –º–µ–Ω—å—à–µ —á–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ!";
                    lowOrHi.style.backgroundColor = "yellow"
                } else if (userGuess > randomNumber) {
                    lowOrHi.textContent = "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ –±–æ–ª—å—à–µ —á–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ!";
                    lowOrHi.style.backgroundColor = "yellow"
                }
            }

            guessCount++;
            guessField.value = "";
            guessField.focus();

        }
        

        guessSubmit.addEventListener('click', checkGuess);

        function setGameOver() {
            guessField.disabled = true;
            guessSubmit.disabled = true;
            resetButton = document.createElement('button');
            resetButton.textContent = '–ù–æ–≤–∞—è –∏–≥—Ä–∞';
            document.body.appendChild(resetButton);
            resetButton.addEventListener('click', resetGame);
        }

        function resetGame() {
        guessCount = 1;
        const resetParas = document.querySelectorAll('.resultParas p');
        for(let i = 0 ; i < resetParas.length ; i++) {
          resetParas[i].textContent = '';
        }

        resetButton.parentNode.removeChild(resetButton);
        guessField.disabled = false;
        guessSubmit.disabled = false;
        guessField.value = '';
        guessField.focus();
        lastResult.style.backgroundColor = 'white';
        randomNumber = Math.floor(Math.random() * 100) + 1;
      }
    </script>
    
</body>
</html>